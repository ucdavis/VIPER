@model Viper.Models.AAUD.AaudUser
@if (Model != null)
{
    IUserHelper UserHelper = new UserHelper();

    <q-btn-dropdown unelevated>
        <template v-slot:label>
            <q-avatar size="40px">
                <img src="@String.Format("https://viper.vetmed.ucdavis.edu/public/utilities/getbase64image.cfm?mailid={0}&altphoto=1", Model.MailId)" height="40" id="siteProfileAvatar" />
                <q-tooltip :target="siteProfileAvatar">
                    @Model.DisplayFirstName @Model.DisplayLastName
                </q-tooltip>
            </q-avatar>
        </template>
        <q-list dense>
            @if(UserHelper.IsEmulating())
            {
                <q-item class="bg-warning" href="@Url.Content("~/ClearEmulation")">
                    <q-item-section avatar>
                        <q-avatar icon="visibility_off" color="secondary" text-color="white"></q-avatar>
                    </q-item-section>
                    <q-item-section>
                        End Emulation
                    </q-item-section>
                </q-item>
            }
            <q-item href="@Url.Content("~/")">
                <q-item-section avatar>
                    <q-avatar icon="settings" color="secondary" text-color="white"></q-avatar>
                </q-item-section>
                <q-item-section>
                    My Profile
                </q-item-section>
            </q-item>
            <q-item href="@Url.Content("~/logout")">
                <q-item-section avatar>
                    <q-avatar icon="logout" color="secondary" text-color="white"></q-avatar>
                </q-item-section>
                <q-item-section>
                    Logout
                </q-item-section>
            </q-item>
        </q-list>
    </q-btn-dropdown>
}
else
{
    <q-btn round flat icon="person" href="@Url.Content("~/login")">
        <q-tooltip>
            Login
        </q-tooltip>
    </q-btn>
}